# CLAUDE.md 베스트 프랙티스

## 핵심 원칙

### 1. 간결하게 유지하라

CLAUDE.md는 짧을수록 효과적입니다. Claude가 모든 내용을 컨텍스트로 로드하므로, 불필요한 정보는 성능을 저하시킵니다.

#### 좋은 예
```markdown
## 코딩 컨벤션
- TypeScript strict 모드 사용
- 함수는 단일 책임 원칙 준수
- 에러 처리: try-catch 대신 Result 타입 사용
```

#### 나쁜 예
```markdown
## 코딩 컨벤션
TypeScript를 사용할 때는 strict 모드를 활성화해야 합니다.
strict 모드는 tsconfig.json에서 설정할 수 있으며,
이를 통해 더 안전한 코드를 작성할 수 있습니다.
타입 체크가 엄격해지면 런타임 에러를 줄일 수 있고...
(이하 장황한 설명)
```

#### 규칙
- 한 항목당 1-2줄로 작성
- 설명보다 예시를 선호
- 전체 길이 200줄 이하 권장

---

### 2. 구체적으로 명시하라

모호한 지시는 일관성 없는 결과를 낳습니다. Claude가 해석할 여지 없이 명확하게 작성하세요.

#### 좋은 예
```markdown
## API 응답 형식
모든 API는 다음 형식으로 응답:
{
  "success": boolean,
  "data": T | null,
  "error": { "code": string, "message": string } | null
}
```

#### 나쁜 예
```markdown
## API 응답 형식
일관된 API 응답 형식을 사용하세요.
```

#### 규칙
- "좋은", "적절한", "필요시" 같은 모호한 표현 금지
- 구체적인 예시 코드 포함
- 숫자로 표현 가능하면 숫자 사용 (예: "짧게" → "50자 이하")

---

### 3. 우선순위를 정하라

가장 중요한 규칙을 먼저 배치하세요. Claude는 상단 내용을 더 중요하게 인식합니다.

#### 좋은 예
```markdown
# Project: Payment Service

## 중요 - 보안 규칙 (최우선)
- API 키는 절대 코드에 하드코딩 금지
- 사용자 입력은 항상 검증
- SQL 쿼리는 파라미터 바인딩 필수

## 기술 스택
...

## 코딩 컨벤션
...
```

#### 나쁜 예
```markdown
# Project: Payment Service

## 폴더 구조
src/
  components/
  utils/
  ...

## 테스트 방법
...

## 중요 - 보안 규칙
(하단에 배치됨)
```

#### 규칙
- 보안/금지 사항은 상단에 배치
- 자주 참조되는 규칙을 위에
- 선택적 가이드라인은 하단에

---

### 4. 실행 가능한 지시를 작성하라

Claude가 바로 따를 수 있는 구체적인 행동 지침을 제공하세요.

#### 좋은 예
```markdown
## 새 컴포넌트 생성 시
1. `src/components/` 아래에 폴더 생성
2. `ComponentName.tsx` 파일 생성
3. `ComponentName.test.tsx` 테스트 파일 생성
4. `index.ts`에서 export 추가

예시:
src/components/Button/
  ├── Button.tsx
  ├── Button.test.tsx
  └── index.ts
```

#### 나쁜 예
```markdown
## 컴포넌트
컴포넌트는 적절한 구조로 만들어주세요.
```

---

### 5. 맥락을 제공하라

왜 그 규칙이 필요한지 간단히 설명하면 Claude가 더 잘 이해합니다.

#### 좋은 예
```markdown
## 데이터베이스 규칙
- 모든 쿼리에 타임아웃 설정 (5초)
  → 레거시 시스템 연동 시 무한 대기 방지
- N+1 쿼리 금지
  → 프로덕션에서 성능 이슈 발생 이력 있음
```

#### 나쁜 예
```markdown
## 데이터베이스 규칙
- 타임아웃 설정하세요
- N+1 쿼리 금지
```

---

## 흔한 실수와 해결책

### 실수 1: 너무 장황한 설명

**문제**: CLAUDE.md가 문서처럼 길어짐
```markdown
## 프로젝트 소개
이 프로젝트는 2023년에 시작된 것으로,
초기에는 단순한 TODO 앱이었으나...
(500줄의 히스토리)
```

**해결책**: 핵심만 남기기
```markdown
## 프로젝트 개요
TODO 관리 웹앱. React + Node.js 풀스택.
```

---

### 실수 2: 모호한 지시

**문제**: 해석의 여지가 있는 표현
```markdown
- 적절한 에러 처리를 하세요
- 좋은 코드를 작성하세요
- 필요할 때 주석을 달아주세요
```

**해결책**: 구체적인 기준 제시
```markdown
- 모든 async 함수는 try-catch로 감싸기
- 함수 길이 30줄 이하 유지
- 정규식과 비즈니스 로직에만 주석 추가
```

---

### 실수 3: 과도한 제약

**문제**: 너무 많은 금지 사항
```markdown
## 금지 사항
- any 금지
- console.log 금지
- for 루프 금지
- if-else 금지
- 변수 재할당 금지
- 화살표 함수 금지
...
(50개의 금지 사항)
```

**해결책**: 핵심 금지 사항만 명시
```markdown
## 금지 사항 (엄격)
- any 타입 사용 금지 → unknown 사용
- 프로덕션 코드에 console.log 금지 → logger 사용

## 권장하지 않음 (유연)
- for 대신 map/filter/reduce 권장
- 가능하면 const 사용
```

---

### 실수 4: 업데이트 안 함

**문제**: 오래된 정보가 남아있음
```markdown
## 기술 스택
- React 16  ← 실제로는 React 18 사용 중
- Node 14   ← 실제로는 Node 20 사용 중
```

**해결책**: 정기적으로 검토
```markdown
<!-- Last updated: 2024-01-15 -->
## 기술 스택
- React 18.2
- Node.js 20 LTS
```

---

### 실수 5: 중복 정보

**문제**: 이미 다른 곳에 있는 정보 반복
```markdown
## 설치 방법
npm install
npm run dev
...
(README.md와 동일한 내용)
```

**해결책**: 참조로 대체
```markdown
## 시작하기
설치 및 실행: README.md 참조
```

---

## CLAUDE.md 체크리스트

### 필수 항목
- [ ] 프로젝트 이름과 한 줄 설명
- [ ] 기술 스택 (버전 포함)
- [ ] 핵심 코딩 컨벤션 (3-5개)
- [ ] 절대 금지 사항 (있다면)

### 권장 항목
- [ ] 디렉토리 구조 개요
- [ ] 네이밍 규칙
- [ ] 커밋 메시지 형식
- [ ] 테스트 작성 규칙

### 선택 항목
- [ ] 브랜치 전략
- [ ] 배포 프로세스
- [ ] 외부 API 연동 정보
- [ ] 트러블슈팅 팁

### 품질 검증
- [ ] 전체 길이 200줄 이하
- [ ] 모호한 표현 없음
- [ ] 구체적인 예시 포함
- [ ] 마크다운 문법 오류 없음
- [ ] 최근 3개월 내 업데이트

---

## 다음 단계

1. [실전 예제](04-examples.md) - 프로젝트 유형별 템플릿 확인
2. [CLAUDE.md 생성 방법](02-creating-claude-md.md) - 첫 CLAUDE.md 작성하기
3. [개요로 돌아가기](01-overview.md) - CLAUDE.md 기본 개념 복습
